<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">

        <link rel="stylesheet" href="css/bootstrap.min.css">
        <style>
            body {
                padding-top: 50px;
                padding-bottom: 20px;
            }
        </style>
        <link rel="stylesheet" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="css/main.css">

        <script src="js/vendor/jquery-1.11.2.min.js"></script>
        <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
    </head>
    <body>
<!-- blank script section is placeholder for query params -->
<script></script>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="/">Seshi.io</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
        </div><!--/.navbar-collapse -->
      </div>
    </nav>

    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div class="jumbotron">
      <div class="container">
        <h1>Seshi makes sending files easy & free!</h1>
	<ol class="well well-lg">
		<li>Choose a file to send. Seshi will store it in your browser.</li>
		<li>Choose a secret key &amp; click 'connect'</li>
		<li>Tell your friend the key, connect, and click the 'send' button'</li>
		<li>That's it! No limits, no email required, the file is sent <em>direct</em> to your friend</em></li> 
	</ol>
        <p>Step one, upload a file: <input type="file" id="share" style="width:288px;"class="" name="Store Files" /></p>
	<p>Type a key: <input type="text" name="key" id="key" placeholder="e.g. S1TR*ogN{Pas^Wr2" /> 
	<button class="btn btn-sm btn-info" id="generateKey">Or generate a key</button><p/>
	<p id="status"></p>
	    <button id="call" style="display:none" class="btn btn-primary btn-lg"
		    onclick = "call()">Connect</button>
	    <button id="hangup" onclick="dc.close()" style="display:none">Hang-up</button>
	<input type="text" id="Generate" style="display:none" />
        <p><button id="connect" onclick="connect()" class="btn btn-primary btn-lg" role="button">Connect</button></p>
        <a href="#video_player" class="btn btn-primary btn-lg showFiles" href="#" role="button">View My Files</a>
	
	<input type="text" value="0" class="progressKnob" data-readOnly="true" style="width:0px" height="0px;" />
	</p>
      </div>

	<!-- Media player -->
	   <figure id="video_player">
	      <video id="video" controls></video>
		<figcaption id="playlist">
		<a class="play"><img src="http://i57.tinypic.com/xqeyaw.jpg" class="showFiles" alt="Seshi"></a>
		</figcaption>
	   </figure>

	<!-- End media player -->

	<!-- FilesInBox --><div id="filesInBox"></div><!-- End FilesInBox -->
    </div>

    <div class="container">
      <!-- Example row of columns -->
      <div class="row">
        <div class="col-md-4">
          <h2>What is Seshi?</h2>
          <div class="well">
	  <p> Seshi started out of an idea to create a truly decentralised file sharing tool which would put people back in control of their own content. I was frustrated by parts of the internet being branded a metaphorical highways for piracy and unimpressed by services being capable of creating peer to peer file sharing tools, but chosing to collect email addresses, and perform analytics on users data for re-marketing campaigns thus loosing sight of the potential for pure peer to peer technologies.</p>
	  <p>Seshi is quite a geeky peice of tehnology, but it is nothing new. It's simply how its architected which makes it <em>different</em>. Seshi dosn't need Seshi.io in order to function, that is, the web server on which it runs is not required in order for people to connect to each other. You can, for example save the webpage locally and run it from there. Signalling is still needed of course (ie how do users find each other) and for this, finally a valid use case for QR codes is found. Seshi can generate QR codes containing your connection information which can be exchanged outside of the application (a so-called out of band communication). The codebase is split into two parts: Seshi Skin &amp; Seshi Signal, making it easier for developers to build their own interface whilst still plugging into Seshi's storage and p2p framework*.</p></div><!-- end well -->

<p>*Seshi is not a framework, its codebase is a work-in-progress and an insult to good coding practises.</p>
        </div>
        <div class="col-md-4">
             <h2>Media player built-in</h2>
          <div class="well">
          <p>Any file you store in Seshi can be played back to you right within your browser (if your browser supports it). You can, listen to your music, videos, and browse pictures.</p>
	  <p>A cool feature is the ability to watch a film in sync with a friend. Distance shouldn't stop two people from sharing a film! &lt;3 </p>
         </div><!-- end well -->
       </div>
        <div class="col-md-4">
          <h2>Send to a friend</h2>
	  <div class="well">
          <p>The whole point of Seshi is to make it easy &amp; fast to send files between friends removing as many barriers as possible (no email size limits, no account needed or speed restictions). Your only limit is your browser and speed of your device. Seshi works with Chrome and Firefox, there's a few quirks with Firefox at the moment when playing back sound / video.<p>
	  </div> <!-- end well -->
        </div>
      </div>

      <hr>

      <footer>
        <p>&copy; Seshi 2015</p>
      </footer>
    </div> <!-- /container -->        
	
        <script src="js/vendor/bootstrap.min.js"></script>

        <script src="js/main.js"></script>

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X','auto');ga('send','pageview');
        </script>

<link rel="stylesheet" type="text/css" href="css/styles.css" />
<div id="preview"></div>

<!-- load Dexie.js for IndexedDB -->
<script src="Dexie.js" type="text/javascript"></script>
<script src="databaseSchema.js" type="text/javascript"></script>
<!-- load polyfill, local copy first for local testing -->
<script src="adapter.js" type="text/javascript"></script>

<!-- load QRcode reader 
<script type="text/javascript" src="qrlogoReader/common.js"></script>
<script type="text/javascript" src="qrlogoReader/reedsolomon.js"></script>
<script type="text/javascript" src="qrlogoReader/qrcodedecode.js"></script>
<script type="text/javascript" src="qrlogoReader/qrdecode.js"></script>
-->

<!-- load XHR-based signaling channel that direct connects based
     on a key -->
<script src="clientXHRSignalingChannel.js"
        type="text/javascript"></script>
<script src="qrcode.js"></script>
<script src="jquery.knob.min.js"></script>
<script src="index.js" type="text/javascript"></script>
<script src="boxHandling.js"></script>

</div>
<div id="scMessage" style="float:right;display:none">

  <p>Response:  <span id="response"></span></p>
</div>

<button id="SyncMyData" style="display:none">Sync All My Data</button></p>

<div class="debug hide">
<input id="qrlogo_text" type="text" value="Your friends SDP will display here." style="width:400px" /><br />
<input id="chunkInProgress" type="text" value="Details of chunk being transferd will appear here" style="width:600px" /><br />
<input id="qrlogo_debug_checkbox" type="text" />
</div><!-- End progress log debug info -->
<div id="qrcode"></div>

<div id="qrcodeImage"></div>
<canvas width="10" height="10" id="qrlogo_canvas"></canvas>
<br />


<hr />

<div class="hide">
<h1>Settings</h1>
<h2>Add signaling server(s)</h2>
<input type="text" name="signalServerAddress" id="signalingServerAddress" />
<button id="addSignalingServer">Add</button> 
<button id="deleteSignalingServers">Delete all signaling servers</button><br />
</div> <!-- settings end -->
<div id="iceMessages" class="debug hide">
 <div class="outMessages"> 
 <b>Outgoing Messages</b>
     <br/>
     <textarea id="outmessages" rows="20"
               style="width:450px;margin:0 15px;"></textarea>
 </div><!-- end outMessages -->
 <div class="inMessages">
  <b>Incoming Messages</b>
     <br/>
     <textarea id="inmessages" rows="20"
               style="width:450px"></textarea>
  </div><!-- end inMessages  -->

</div><!-- End iceMessages debug -->
<span id="statusline" style="display:none">Status:
      <span id="status">Disconnected</span>
    </span>


</body>

<button onclick="showDebugInfo()">Show debug info</button>
<p>A project of <a href="http://karmacomputing.co.uk">Karma Computing</a>.</p>
</html>
