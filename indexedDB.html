<script src="static/Dexie.js"></script>

<script type="text/javascript">
function uuid()
{   /* Credit http://stackoverflow.com/a/2117523 */ 
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
            var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);
                return v.toString(16);
    });
}

//Make a database connection
var db = new Dexie('flytipper');

//Define a schema
db.version(2)
    .stores({
        chunks: 'fileId, fileName, chunkNumber, size, chunk'
    });


// Open the database
db.open()
    .catch(function(error){
        alert('Oh oh : ' + error);
    });


// Add stuff to it
db.chunks
    .add({
        fileId: uuid(),
        fileName: 'Test.txt',
        chunkNumber: 1,
        size: 23
    });
</script>
